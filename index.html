<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>核融合パズル - Nuclear Fusion Game</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Particle canvas for effects -->
    <canvas id="particle-canvas"></canvas>

    <!-- Startup Screen -->
    <div id="startup-screen" class="screen active">
        <div class="startup-content">
            <h1 class="game-title">核融合パズル</h1>
            
            <div class="fusion-image">
                <img src="https://via.placeholder.com/300x200/4ecdc4/ffffff?text=Nuclear+Fusion" alt="核融合反応" class="reaction-image">
            </div>
            
            <p class="game-description">
                軽元素を組み合わせて核融合反応を起こし、<br>
                エネルギーを生成しながら新しい元素を発見しよう！
            </p>
            
            <div class="button-group">
                <button id="start-game" class="btn btn--primary btn--lg">ゲーム開始</button>
                <button id="show-tutorial" class="btn btn--secondary btn--lg">遊び方</button>
            </div>
        </div>
    </div>

    <!-- Tutorial Screen -->
    <div id="tutorial-screen" class="screen">
        <div class="tutorial-content">
            <h2>遊び方</h2>
            
            <div class="tutorial-steps">
                <div class="tutorial-step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h3>元素を選択</h3>
                        <p>下部の元素パレットから反応させたい元素を選びます</p>
                    </div>
                </div>
                
                <div class="tutorial-step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h3>反応容器に配置</h3>
                        <p>選んだ元素を中央の反応容器にドラッグします</p>
                    </div>
                </div>
                
                <div class="tutorial-step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h3>温度を上げて反応開始</h3>
                        <p>温度ボタンをクリックして必要温度まで上げ、反応を開始します</p>
                    </div>
                </div>
                
                <div class="tutorial-step">
                    <div class="step-number">4</div>
                    <div class="step-content">
                        <h3>エネルギーと新元素を獲得</h3>
                        <p>成功すると新しい元素とエネルギーを獲得できます</p>
                    </div>
                </div>
            </div>
            
            <div class="button-group">
                <button id="start-from-tutorial" class="btn btn--primary">ゲーム開始</button>
                <button id="back-to-startup" class="btn btn--secondary">戻る</button>
            </div>
        </div>
    </div>

    <!-- Game Screen -->
    <div id="game-screen" class="screen">
        <!-- Game Header -->
        <div class="game-header">
            <div class="stat-display">
                <div class="stat-item">
                    <span class="stat-label">エネルギー</span>
                    <span class="stat-value" id="energy-display">100</span>
                    <span class="stat-unit">MeV</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">温度</span>
                    <span class="stat-value" id="temperature-display">0</span>
                    <span class="stat-unit">M°C</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">スコア</span>
                    <span class="stat-value" id="score-display">0</span>
                </div>
            </div>
        </div>

        <!-- Game Layout (横並び) -->
        <div class="game-layout">
            <!-- Left Column -->
            <div class="left-column">
                <!-- Reaction Area -->
                <div class="reaction-area">
                    <div id="reaction-vessel" class="reaction-vessel">
                        <div class="vessel-background"></div>
                        <div id="temperature-gauge" class="temperature-gauge">
                            <div id="temperature-gauge-fill" class="gauge-fill"></div>
                        </div>
                        <div class="reaction-slots">
                            <div id="slot-1" class="reaction-slot"></div>
                            <div id="slot-2" class="reaction-slot"></div>
                        </div>
                    </div>
                </div>

                <!-- Control Panel -->
                <div class="control-panel">
                    <div class="temperature-control">
                        <button id="heat-button" class="btn btn--primary btn--full-width">温度を上げる</button>
                        <div class="temperature-info" id="required-temp-info">必要温度: --</div>
                    </div>
                    <div class="reaction-control">
                        <button id="fuse-button" class="btn btn--primary btn--full-width" disabled>核融合開始</button>
                        <button id="clear-button" class="btn btn--secondary btn--full-width">リセット</button>
                    </div>
                </div>

                <!-- Reaction Info -->
                <div class="reaction-info">
                    <div id="reaction-equation" class="reaction-equation">元素を2つ配置してください</div>
                    <div id="reaction-energy" class="reaction-energy"></div>
                </div>
            </div>

            <!-- Right Column -->
            <div class="right-column">
                <!-- Element Palette -->
                <div class="element-palette">
                    <h3>利用可能な元素</h3>
                    <div id="element-grid" class="palette-grid">
                        <!-- Elements will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Result Modal -->
    <div id="result-modal" class="modal">
        <div class="modal-content">
            <h2 id="result-title">核融合成功！</h2>
            <div id="result-elements" class="result-elements"></div>
            <div id="result-energy" class="result-energy"></div>
            <div id="result-unlock" class="result-unlock" style="display: none;"></div>
            <button id="continue-button" class="btn btn--primary">続ける</button>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
